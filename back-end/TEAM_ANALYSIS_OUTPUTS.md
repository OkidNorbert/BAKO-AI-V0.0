# Team Video Analysis - Output Metrics & Analytics

This document outlines the comprehensive analysis metrics and data points generated by the **Team Analysis Mode** of the AI Basketball Skill Analysis System.

## 1. General Game Metadata
- **Total Frames**: Total number of frames processed.
- **Duration**: Total game time analyzed (seconds/minutes).
- **Player Count**: Number of unique players detected and tracked.
- **Team Identification**: Automatic assignment of players to Team 1 or Team 2 based on jersey color analysis.

## 2. Possession & Control
- **Team Possession Percentage**: Percentage of time each team spent in possession of the ball.
- **Ball Possession Log**: Frame-by-frame tracking of which specific player ID had control of the ball.
- **Persistence Handling**: Grace periods for ball occlusions to ensure consistent possession attribution.

## 3. Shooting Analytics (Team & Individual)
The system analyzes every shot attempt for both teams, providing:
- **Shot Volume**: Total attempts, makes, and misses.
- **Shooting Percentage**: Overall and team-specific success rates.
- **Shot Type Classification**:
    - **Layups**: Close-range shots near the hoop.
    - **Mid-range**: Medium-distance jump shots.
    - **Three-Pointers**: Long-range shots (calibrated using 2D Euclidean distance).
- **Tactical Shot Quality**:
    - **Contestedness**: Classified as *Wide Open*, *Contested*, or *Heavily Contested* based on defender proximity.
    - **Shot Quality**: Assessment (e.g., *High Quality*, *Average*, *Difficult Make*) based on outcome and pressure.
- **Shot Breakdown**: Detailed stats per shot type for each team.

## 4. Playmaking & Defense
- **Pass Detection**: Identifies successful passes between teammates.
- **Total Passes**: Count per team/game.
- **Interceptions**: Detects when a defender gains possession of the ball from the opposing team's pass or dribble.
- **Total Interceptions**: Defensive impact count.

## 5. Movement & Spatial Data
- **Tactical View Transformation**: Conversion of camera-view coordinates to a top-down 2D court representation.
- **Speed Tracking**: Real-time speed calculation for all tracked players (meters per second).
- **Distance Covered**: Cumulative distance traveled by each player throughout the analyzed period.
- **Court Keypoints**: Detectable landmarks and boundaries of the basketball court for spatial context.

## 6. Visual Overlays (Output Video)
The analyzed video output includes:
- **Player Tracking Ellipses**: Color-coded by team (e.g., Grey for Team 1, Red for Team 2).
- **Possession Indicator**: A triangle above the player currently holding the ball.
- **Live Scoreboard**: Persistent display of Team 1 vs. Team 2 score and possession dominance.
- **Made/Missed Notifications**: Contextual notifications showing shot outcome, distance, and contestedness.
- **Hoop Detection Visuals**: Highlighting the rim and backboard regions used for analysis.
- **Tactical Map (Optional)**: Mini top-down view showing player positioning.

## 7. Data Structure (API/Json)
For technical integration, the system returns a JSON object containing:
- `events`: Array of triggered events (passes, shots, interceptions) with timestamps.
- `detections`: Raw tracking data for every frame.
- `shot_details`: Array of objects containing outcome, type, distance, and quality metrics for every shot.
- `team_1_shot_breakdown` & `team_2_shot_breakdown`: Nested objects with attempts/makes/percentages per type.
- `duration_seconds`: Calculated total video length.
